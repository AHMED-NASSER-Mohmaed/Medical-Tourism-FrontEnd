<!-- Banner/Header -->
<div class="banner" style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
  <button class="btn btn-back animate__animated animate__fadeInLeft" (click)="goBack()" style="margin-left: 2rem; margin-right: 2.5rem; margin-bottom: 0; margin-top: 0;">
    <i class="bi bi-arrow-left"></i> Back to Car Rentals List
  </button>
  <div style="display: flex; flex-direction: column; align-items: center; flex: 1;">
    <h1 style="margin-bottom: 0;">{{ carRental?.assetName || 'Car Rental Details' }}</h1>
    <p style="margin-top: 0.5rem;">
      Easily filter by model, type, price, and more to discover all available cars from this provider.
    </p>
  </div>
  <div style="width: 180px;"></div> <!-- Spacer to balance the button width on the right -->
</div>
<!-- <div class="container mb-4">
  <button class="btn btn-back animate__animated animate__fadeInLeft" (click)="goBack()">
    <i class="bi bi-arrow-left"></i> Back to Car Rentals List
  </button>
</div> -->
<!-- <div class="container d-flex justify-content-center align-items-center animate__animated animate__fadeInUp" style="min-height: 70vh;">
  <div *ngIf="!loading && carRental" class="glass-card shadow-lg p-4 rounded-5 animate__animated animate__zoomIn wow">
    <div class="row g-4 align-items-center">
      <div class="col-md-5 text-center">
        <img [src]="carRental.imageURL || 'assets/images/cover.png'" class="img-fluid rounded-4 shadow-lg car-rental-img-detail animate__animated animate__fadeInLeftBig" alt="Car Rental Image" style="max-height: 320px; object-fit: cover; border: 6px solid #fff;">
      </div>
      <div class="col-md-7">
        <h2 class="fw-bold mb-1 text-primary display-6 animate__animated animate__fadeInRightBig">{{ carRental.assetName || carRental.firstName + ' ' + carRental.lastName }}</h2>
        <p class="lead text-secondary mb-4 animate__animated animate__fadeInRight">{{ carRental.description }}</p>
        <div class="row mb-2 gy-2">
          <div class="col-12 col-lg-6 animate__animated animate__fadeInUp">
            <i class="bi bi-envelope-at-fill text-gradient"></i> <strong>Contact Email:</strong> <span class="text-dark">{{ carRental.email }}</span>
          </div>
          <div class="col-12 col-lg-6 animate__animated animate__fadeInUp">
            <i class="bi bi-telephone-fill text-gradient"></i> <strong>Phone:</strong> <span class="text-dark">{{ carRental.phone }}</span>
          </div>
          <div class="col-12 animate__animated animate__fadeInUp">
            <i class="bi bi-geo-alt-fill text-gradient"></i> <strong>Address:</strong> <span class="text-dark">{{ carRental.address }}, {{ carRental.city }}</span>
          </div>
          <div class="col-12 animate__animated animate__fadeInUp">
            <i class="bi bi-car-front-fill text-gradient"></i> <strong>Models:</strong>
            <span *ngIf="carRental.models?.length; else noModels">
              <span *ngFor="let model of carRental.models" class="badge bg-gradient-primary me-1 animate__animated animate__bounceIn" style="font-size:1rem;">{{ model }}</span>
            </span>
            <ng-template #noModels><span class="text-muted">None</span></ng-template>
          </div>
          <div class="col-12 animate__animated animate__fadeInUp">
            <i class="bi bi-fuel-pump-fill text-gradient"></i> <strong>Fuel Types:</strong>
            <span *ngIf="carRental.fuelTypes?.length; else noFuels">
              <span *ngFor="let fuel of carRental.fuelTypes" class="badge bg-gradient-success me-1 animate__animated animate__bounceIn" style="font-size:1rem;">
                {{ FuelTypeMap[(fuel !== undefined ? fuel : 0)] || fuel }}
              </span>
            </span>
            <ng-template #noFuels><span class="text-muted">None</span></ng-template>
          </div>
          <div class="col-12 animate__animated animate__fadeInUp">
            <i class="bi bi-gear-fill text-gradient"></i> <strong>Transmission:</strong> <span class="badge bg-gradient-info text-dark animate__animated animate__bounceIn" style="font-size:1rem;">{{ TransmissionTypeMap[(carRental.transmission !== undefined ? carRental.transmission : 0)] || carRental.transmission }}</span>
          </div>
          <div class="col-12 animate__animated animate__fadeInUp">
            <i class="bi bi-clipboard-check-fill text-gradient"></i> <strong>Rental Policies:</strong>
            <span *ngIf="carRental.rentalPolicies?.length; else noPolicies">
              <span *ngFor="let policy of carRental.rentalPolicies" class="badge bg-gradient-warning text-dark me-1 animate__animated animate__bounceIn" style="font-size:1rem;">{{ policy }}</span>
            </span>
            <ng-template #noPolicies><span class="text-muted">None</span></ng-template>
          </div>
          <div class="col-12 col-lg-6 animate__animated animate__fadeInUp">
            <i class="bi bi-star-fill text-warning"></i> <strong>Star Rating:</strong> <span class="text-dark">{{ carRental.starRating || 'N/A' }}</span>
          </div>
          <div class="col-12 col-lg-6 animate__animated animate__fadeInUp">
            <i class="bi bi-envelope-fill text-gradient"></i> <strong>Asset Email:</strong> <span class="text-dark">{{ carRental.assetEmail }}</span>
          </div>
          <div class="col-12 col-lg-6 animate__animated animate__fadeInUp">
            <i class="bi bi-clock-fill text-gradient"></i> <strong>Opening Time:</strong> <span class="text-dark">{{ carRental.openingTime }}</span>
          </div>
          <div class="col-12 col-lg-6 animate__animated animate__fadeInUp">
            <i class="bi bi-clock-history text-gradient"></i> <strong>Closing Time:</strong> <span class="text-dark">{{ carRental.closingTime }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="!loading && !carRental" class="alert alert-info animate__animated animate__fadeIn">
    Car rental not found.
  </div>
</div> -->

<!-- Add the sidebar and available cars grid below the details card -->
<app-car-rental-details-sidebar-filters *ngIf="carRentalId" [carRentalId]="carRentalId"></app-car-rental-details-sidebar-filters>
