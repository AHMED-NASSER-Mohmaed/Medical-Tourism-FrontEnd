<app-navbar></app-navbar>

<!-- Hero Section with Animated Overlay -->
<div class="room-hero-section position-relative animate__animated animate__fadeIn">
  <img *ngIf="room?.images?.length" [src]="firstImage" class="hero-bg-img" alt="Room Hero Image">
  <div class="hero-overlay"></div>
  <div class="container hero-content d-flex flex-column align-items-center justify-content-center">
    <button class="btn btn-back animate__animated animate__fadeInLeft" (click)="goBack()">
      <i class="bi bi-arrow-left"></i> Back to Hotel
    </button>
    <h1 class="display-4 fw-bold text-white text-shadow mb-2 animate__animated animate__fadeInDown">Room Details</h1>
    <p class="lead text-white text-shadow animate__animated animate__fadeInUp">All information about this room for your stay.</p>
  </div>
</div>

<div class="container animate__animated animate__fadeInUp mt-5">
  <div *ngIf="loading" class="text-center my-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
  <div *ngIf="error" class="alert alert-danger text-center animate__animated animate__fadeIn">
    {{ error }}
  </div>
  <div *ngIf="room && !loading" class="row justify-content-center">
    <div class="col-lg-10 col-xl-8">
      <div class="card room-details-card glassmorphism shadow-lg mb-4 animate__animated animate__zoomIn">
        <div class="row g-0 align-items-center">
          <div class="col-md-5 room-images position-relative">
            <div class="main-img-wrapper">
              <img *ngIf="room.images && room.images.length" [src]="selectedImage || room.images[0]" class="img-fluid rounded main-room-img animate__animated animate__fadeIn" alt="Room Image">
              <img *ngIf="!room.images || !room.images.length" src="/assets/images/cover.png" class="img-fluid rounded main-room-img animate__animated animate__fadeIn" alt="Room Image">
            </div>
            <div class="room-thumbnails mt-3 d-flex flex-wrap justify-content-center" *ngIf="room.images && room.images.length > 1">
              <img *ngFor="let img of room.images; let i = index" [src]="img" class="img-thumbnail room-thumb animate__animated animate__fadeInUp" [class.active-thumb]="(selectedImage || room.images[0]) === img" (click)="selectImage(img)" alt="Room Thumbnail">
            </div>
          </div>
          <div class="col-md-7">
            <div class="card-body">
              <h2 class="card-title mb-2 fw-bold animate__animated animate__fadeInRight">{{ room.name }}</h2>
              <div class="room-info-details animate__animated animate__fadeInRight">
                <div class="room-price-tag animate__animated animate__bounceIn">
                  <span class="price-badge">${{ room.price | number:'1.0-2' }}</span>
                </div>
                <div class="room-meta mt-3">
                  <div class="meta-item animate__animated animate__fadeInUp">
                    <i class="bi bi-people-fill text-primary me-2"></i>
                    <span class="meta-label">Occupancy:</span>
                    <span class="meta-value">{{ room.occupancy }}</span>
                  </div>
                  <div class="meta-item animate__animated animate__fadeInUp" style="animation-delay:0.1s;">
                    <i class="bi bi-door-closed text-success me-2"></i>
                    <span class="meta-label">Type:</span>
                    <span class="meta-value fw-bold">{{ roomTypeLabel(room.roomType) }}</span>
                  </div>
                  <div class="meta-item animate__animated animate__fadeInUp" style="animation-delay:0.2s;" *ngIf="room.description">
                    <i class="bi bi-info-circle text-info me-2"></i>
                    <span class="meta-value">{{ room.description }}</span>
                  </div>
                </div>
              </div>
              <div *ngIf="room.facilities && room.facilities.length" class="mb-3 animate__animated animate__fadeInUp">
                <span class="badge bg-info me-1 mb-1 facility-badge animate__animated animate__pulse" *ngFor="let fac of room.facilities">{{ fac }}</span>
              </div>
              <div class="d-flex flex-wrap gap-2 mt-3 animate__animated animate__fadeInUp">
                <span *ngIf="room.hasPool" class="badge bg-primary feature-badge animate__animated animate__bounceIn"><i class="bi bi-water"></i> Pool</span>
                <span *ngIf="room.hasRestaurant" class="badge bg-success feature-badge animate__animated animate__bounceIn"><i class="bi bi-cup-straw"></i> Restaurant</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
