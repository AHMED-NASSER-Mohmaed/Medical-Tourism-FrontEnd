<div class="card border-0 shadow-lg rounded-4 add-patient-card">
  <div class="card-header bg-white py-4 rounded-top-4 border-0">
    <h5 class="mb-0 fw-bold text-dark">
      <i class="fas fa-user-plus me-2 text-primary"></i>
      Add New Patient
    </h5>
  </div>
  <div class="card-body">
    <form [formGroup]="patientForm" (ngSubmit)="onSubmit()" autocomplete="off">
      <div class="row g-4">
        <!-- Email -->
        <div class="col-md-6">
          <div class="form-floating">
            <input type="email" class="form-control" id="email" formControlName="email" placeholder="Email">
            <label for="email"><i class="fas fa-envelope me-2 text-primary"></i>Email</label>
          </div>
          <div *ngIf="patientForm.get('email')?.errors?.['required'] && patientForm.get('email')?.touched" class="form-text text-danger ms-1">
            Email is required
          </div>
          <div *ngIf="patientForm.get('email')?.errors?.['email'] && patientForm.get('email')?.touched" class="form-text text-danger ms-1">
            Please enter a valid email
          </div>
        </div>

        <!-- Password -->
        <div class="col-md-6">
          <div class="form-floating">
            <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password">
            <label for="password"><i class="fas fa-lock me-2 text-primary"></i>Password</label>
          </div>
          <div *ngIf="patientForm.get('password')?.errors?.['required'] && patientForm.get('password')?.touched" class="form-text text-danger ms-1">
            Password is required
          </div>
          <div *ngIf="patientForm.get('password')?.errors?.['minlength']" class="form-text text-danger ms-1">
            Password must be at least 8 characters
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="col-md-6">
          <div class="form-floating">
            <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" placeholder="Confirm Password">
            <label for="confirmPassword"><i class="fas fa-lock me-2 text-primary"></i>Confirm Password</label>
          </div>
          <div *ngIf="patientForm.get('confirmPassword')?.errors?.['required'] && patientForm.get('confirmPassword')?.touched" class="form-text text-danger ms-1">
            Please confirm your password
          </div>
          <div *ngIf="!passwordsMatch() && patientForm.get('confirmPassword')?.touched" class="form-text text-danger ms-1">
            Passwords do not match
          </div>
        </div>

        <!-- Personal Info -->
        <div class="col-md-6">
          <div class="form-floating">
            <input type="text" class="form-control" id="firstName" formControlName="firstName" placeholder="First Name">
            <label for="firstName"><i class="fas fa-user me-2 text-primary"></i>First Name</label>
          </div>
          <div *ngIf="patientForm.get('firstName')?.invalid && patientForm.get('firstName')?.touched" class="form-text text-danger ms-1">
            First name is required
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-floating">
            <input type="text" class="form-control" id="lastName" formControlName="lastName" placeholder="Last Name">
            <label for="lastName"><i class="fas fa-user me-2 text-primary"></i>Last Name</label>
          </div>
          <div *ngIf="patientForm.get('lastName')?.invalid && patientForm.get('lastName')?.touched" class="form-text text-danger ms-1">
            Last name is required
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-floating">
            <input type="tel" class="form-control" id="phone" formControlName="phone" placeholder="Phone">
            <label for="phone"><i class="fas fa-phone me-2 text-primary"></i>Phone</label>
          </div>
          <div *ngIf="patientForm.get('phone')?.invalid && patientForm.get('phone')?.touched" class="form-text text-danger ms-1">
            Phone is required
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-floating">
            <select class="form-select" id="gender" formControlName="gender" aria-label="Gender">
              <option value="" selected>Select gender</option>
              <option [value]="Gender.UNSPECIFIED">Unspecified</option>
              <option [value]="Gender.MALE">Male</option>
              <option [value]="Gender.FEMALE">Female</option>
            </select>
            <label for="gender"><i class="fas fa-venus-mars me-2 text-primary"></i>Gender</label>
          </div>
        </div>

        <!-- Address Info -->
        <div class="col-12">
          <div class="form-floating">
            <input type="text" class="form-control" id="address" formControlName="address" placeholder="Address">
            <label for="address"><i class="fas fa-map-marker-alt me-2 text-primary"></i>Address</label>
          </div>
        </div>

        <div class="col-md-4">
          <div class="form-floating">
            <input type="text" class="form-control" id="city" formControlName="city" placeholder="City">
            <label for="city"><i class="fas fa-city me-2 text-primary"></i>City</label>
          </div>
        </div>

        <div class="col-md-4">
          <div class="form-floating">
            <select class="form-select" id="governorateId" formControlName="governorateId" aria-label="Governorate">
              <option value="" selected>Select governorate</option>
              <!-- Populate with actual governorates from your data -->
              <option value="1">Cairo</option>
              <option value="2">Alexandria</option>
              <!-- Add more options as needed -->
            </select>
            <label for="governorateId"><i class="fas fa-map-marked-alt me-2 text-primary"></i>Governorate</label>
          </div>
        </div>

        <div class="col-md-4">
          <div class="form-floating">
            <select class="form-select" id="countryId" formControlName="countryId" aria-label="Country">
              <option value="" selected>Select country</option>
              <!-- Populate with actual countries from your data -->
              <option value="1">Egypt</option>
              <option value="2">Saudi Arabia</option>
              <!-- Add more options as needed -->
            </select>
            <label for="countryId"><i class="fas fa-globe me-2 text-primary"></i>Country</label>
          </div>
        </div>

        <!-- Health Info -->
        <div class="col-md-4">
          <div class="form-floating">
            <input type="date" class="form-control" id="dateOfBirth" formControlName="dateOfBirth" placeholder="Date of Birth">
            <label for="dateOfBirth"><i class="fas fa-calendar-alt me-2 text-primary"></i>Date of Birth</label>
          </div>
        </div>

        <div class="col-md-4">
          <div class="form-floating">
            <select class="form-select" id="bloodGroup" formControlName="bloodGroup" aria-label="Blood Group">
              <option value="" selected>Select blood group</option>
              <option value="A+">A+</option>
              <option value="A-">A-</option>
              <option value="B+">B+</option>
              <option value="B-">B-</option>
              <option value="AB+">AB+</option>
              <option value="AB-">AB-</option>
              <option value="O+">O+</option>
              <option value="O-">O-</option>
            </select>
            <label for="bloodGroup"><i class="fas fa-tint me-2 text-primary"></i>Blood Group</label>
          </div>
        </div>

        <div class="col-md-2">
          <div class="form-floating">
            <input type="number" class="form-control" id="height" formControlName="height" placeholder="Height (cm)">
            <label for="height"><i class="fas fa-ruler-vertical me-2 text-primary"></i>Height (cm)</label>
          </div>
        </div>

        <div class="col-md-2">
          <div class="form-floating">
            <input type="number" class="form-control" id="weight" formControlName="weight" placeholder="Weight (kg)">
            <label for="weight"><i class="fas fa-weight me-2 text-primary"></i>Weight (kg)</label>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="col-12 mt-4">
          <button type="submit" class="btn btn-primary btn-lg me-2 px-4" [disabled]="patientForm.invalid || !passwordsMatch()">
            <i class="fas fa-user-plus me-2"></i>Create Patient
          </button>
          <button type="button" class="btn btn-outline-secondary btn-lg px-4" routerLink="/super-admin/patients">
            Cancel
          </button>
        </div>
      </div>
    </form>
  </div>
</div>